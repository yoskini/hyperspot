{
  "PRD": {
    "name": "PRD constraints (cf-sdlc)",
    "description": "Allowed ID kinds in PRD and required/optional downstream references",
    "headings": [
      {
        "id": "prd-h1-title",
        "level": 1,
        "pattern": null,
        "description": "PRD document title (H1).",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-overview",
        "level": 2,
        "pattern": "Overview",
        "description": "High-level overview of the module/product.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-overview-purpose",
        "level": 3,
        "pattern": "Purpose",
        "description": "PRD purpose.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-overview-background",
        "level": 3,
        "pattern": "Background / Problem Statement",
        "description": "Problem statement and background.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-overview-goals",
        "level": 3,
        "pattern": "Goals \\(Business Outcomes\\)",
        "description": "Business outcomes and goals.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-overview-glossary",
        "level": 3,
        "pattern": "Glossary",
        "description": "Glossary / definitions.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-actors",
        "level": 2,
        "pattern": "Actors",
        "description": "Actors section.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-actors-human",
        "level": 3,
        "pattern": "Human Actors",
        "description": "Human actors.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-actors-system",
        "level": 3,
        "pattern": "System Actors",
        "description": "System / external actors.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-operational-concept",
        "level": 2,
        "pattern": "Operational Concept & Environment",
        "description": "Operational concept and environment constraints.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-scope",
        "level": 2,
        "pattern": "Scope",
        "description": "Scope section.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-scope-in",
        "level": 3,
        "pattern": "In Scope",
        "description": "In scope.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-scope-out",
        "level": 3,
        "pattern": "Out of Scope",
        "description": "Out of scope.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-fr",
        "level": 2,
        "pattern": "Functional Requirements",
        "description": "Functional requirements.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-nfr",
        "level": 2,
        "pattern": "Non-Functional Requirements",
        "description": "Non-functional requirements.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-nfr-exclusions",
        "level": 3,
        "pattern": "NFR Exclusions",
        "description": "Optional NFR exclusions.",
        "required": false,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-public-interfaces",
        "level": 2,
        "pattern": "Public Library Interfaces",
        "description": "Public interfaces and integration contracts.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-public-interfaces-api",
        "level": 3,
        "pattern": "Public API Surface",
        "description": "Public API surface.",
        "required": false,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-public-interfaces-external-contracts",
        "level": 3,
        "pattern": "External Integration Contracts",
        "description": "External integration contracts.",
        "required": false,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-use-cases",
        "level": 2,
        "pattern": "Use Cases",
        "description": "Use cases.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-acceptance-criteria",
        "level": 2,
        "pattern": "Acceptance Criteria",
        "description": "Acceptance criteria.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-dependencies",
        "level": 2,
        "pattern": "Dependencies",
        "description": "Dependencies.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-assumptions",
        "level": 2,
        "pattern": "Assumptions",
        "description": "Assumptions.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-risks",
        "level": 2,
        "pattern": "Risks",
        "description": "Risks.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-open-questions",
        "level": 2,
        "pattern": "Open Questions",
        "description": "Optional open questions.",
        "required": false,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "prd-traceability",
        "level": 2,
        "pattern": "Traceability",
        "description": "Optional traceability section.",
        "required": false,
        "multiple": "prohibited",
        "numbered": "allow"
      }
    ],
    "identifiers": {
      "actor": {
        "kind": "actor",
        "name": "Actor",
        "description": "An entity (human or system) that interacts with the module.",
        "template": "cpt-{system}-actor-{slug}",
        "examples": ["cpt-todo-app-actor-user", "cpt-cf-credstore-actor-oagw"],
        "required": false,
        "task": "prohibited",
        "priority": "prohibited",
        "to_code": false,
        "headings": ["prd-actors-human", "prd-actors-system"],
        "references": {}
      },
      "fr": {
        "kind": "fr",
        "name": "Functional Requirement",
        "description": "A testable statement of required system behavior (WHAT).",
        "template": "cpt-{system}-fr-{slug}",
        "examples": ["cpt-todo-app-fr-create-task", "cpt-cf-credstore-fr-put-secret"],
        "required": true,
        "task": "required",
        "priority": "required",
        "to_code": false,
        "headings": ["prd-fr"],
        "references": {
          "DESIGN": {"coverage": "required", "task": "allowed", "priority": "allowed", "headings": ["design-arch-overview-drivers"]},
          "DECOMPOSITION": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["decomposition-entry"]},
          "FEATURE": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["feature-context-purpose"]}
        }
      },
      "nfr": {
        "kind": "nfr",
        "name": "Non-functional Requirement",
        "description": "A measurable quality attribute requirement.",
        "template": "cpt-{system}-nfr-{slug}",
        "examples": ["cpt-todo-app-nfr-performance", "cpt-cf-credstore-nfr-confidentiality"],
        "required": true,
        "task": "required",
        "priority": "required",
        "to_code": false,
        "headings": ["prd-nfr"],
        "references": {
          "DESIGN": {"coverage": "required", "task": "allowed", "priority": "allowed", "headings": ["design-arch-overview-drivers"]},
          "DECOMPOSITION": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["decomposition-entry"]},
          "FEATURE": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["feature-context-purpose"]}
        }
      },
      "usecase": {
        "kind": "usecase",
        "name": "Use Case",
        "description": "An end-to-end interaction scenario clarifying behavior beyond individual requirements.",
        "template": "cpt-{system}-usecase-{slug}",
        "examples": ["cpt-cf-credstore-usecase-hierarchical-resolve"],
        "required": false,
        "task": "allowed",
        "priority": "allowed",
        "to_code": false,
        "headings": ["prd-use-cases"],
        "references": {
          "DESIGN": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["design-tech-arch-seq"]},
          "FEATURE": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": null}
        }
      },
      "interface": {
        "kind": "interface",
        "name": "Public Interface",
        "description": "A public API surface (library interface, protocol, REST API, CLI, etc.).",
        "template": "cpt-{system}-interface-{slug}",
        "examples": ["cpt-cf-credstore-interface-client"],
        "required": false,
        "task": "allowed",
        "priority": "allowed",
        "to_code": false,
        "headings": ["prd-public-interfaces-api"],
        "references": {
          "DESIGN": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["design-tech-arch-api-contracts"]}
        }
      },
      "contract": {
        "kind": "contract",
        "name": "Integration Contract",
        "description": "An external integration contract (protocol/format/compatibility expectations).",
        "template": "cpt-{system}-contract-{slug}",
        "examples": ["cpt-cf-credstore-contract-rest-api"],
        "required": false,
        "task": "allowed",
        "priority": "allowed",
        "to_code": false,
        "headings": ["prd-public-interfaces-external-contracts"],
        "references": {
          "DESIGN": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["design-tech-arch-api-contracts"]}
        }
      }
    }
  },
  "ADR": {
    "name": "ADR constraints (cf-sdlc)",
    "description": "Allowed ID kinds in ADR and required references from DESIGN",
    "headings": [
      {
        "id": "adr-h1-title",
        "level": 1,
        "pattern": null,
        "description": "ADR document title (H1).",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "adr-context",
        "level": 2,
        "pattern": "Context and Problem Statement",
        "description": "Problem context and motivating forces.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "adr-decision-drivers",
        "level": 2,
        "pattern": "Decision Drivers",
        "description": "Key decision drivers and constraints.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "adr-considered-options",
        "level": 2,
        "pattern": "Considered Options",
        "description": "Options that were considered.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "adr-decision-outcome",
        "level": 2,
        "pattern": "Decision Outcome",
        "description": "Selected decision and outcome.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "adr-decision-outcome-consequences",
        "level": 3,
        "pattern": "Consequences",
        "description": "Consequences of the decision.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "adr-decision-outcome-confirmation",
        "level": 3,
        "pattern": "Confirmation",
        "description": "How/when the decision will be confirmed.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "adr-pros-cons",
        "level": 2,
        "pattern": "Pros and Cons of the Options",
        "description": "Pros and cons analysis for the options.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "adr-pros-cons-entry",
        "level": 3,
        "pattern": null,
        "description": "A single option evaluation entry (pros/cons).",
        "required": false,
        "multiple": "allow",
        "numbered": "allow"
      },
      {
        "id": "adr-more-info",
        "level": 2,
        "pattern": "More Information",
        "description": "Optional additional information and links.",
        "required": false,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "adr-traceability",
        "level": 2,
        "pattern": "Traceability",
        "description": "Optional traceability links back to requirements/decisions.",
        "required": false,
        "multiple": "prohibited",
        "numbered": "allow"
      }
    ],
    "identifiers": {
      "adr": {
        "name": "Architecture Decision Record",
        "kind": "adr",
        "description": "A documented architecture decision with context, options, outcome, and consequences; referenced from DESIGN.",
        "template": "cpt-{system}-adr-{slug}",
        "examples": ["cpt-cf-credstore-adr-oauth2-token-provider"],
        "required": true,
        "task": "prohibited",
        "priority": "prohibited",
        "to_code": false,
        "headings": ["adr-h1-title"],
        "references": {
          "PRD": {"coverage": "prohibited"},
          "DESIGN": {"coverage": "required", "task": "allowed", "priority": "allowed", "headings": ["design-arch-overview-drivers"]}
        }
      }
    }
  },
  "DESIGN": {
    "name": "DESIGN constraints (cf-sdlc)",
    "description": "Allowed ID kinds in DESIGN",
    "headings": [
      {
        "id": "design-h1-title",
        "level": 1,
        "pattern": null,
        "description": "DESIGN document title (H1).",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-arch-overview",
        "level": 2,
        "pattern": "Architecture Overview",
        "description": "Architecture overview section.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-arch-overview-vision",
        "level": 3,
        "pattern": "Architectural Vision",
        "description": "High-level architectural vision.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-arch-overview-drivers",
        "level": 3,
        "pattern": "Architecture Drivers",
        "description": "Architecture drivers: requirements, constraints, and ADR links.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-arch-overview-layers",
        "level": 3,
        "pattern": "Architecture Layers",
        "description": "Architecture layering and responsibilities.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-principles-constraints",
        "level": 2,
        "pattern": "Principles & Constraints",
        "description": "Principles and constraints section.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-principles",
        "level": 3,
        "pattern": "Design Principles",
        "description": "Design principles list.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-constraints",
        "level": 3,
        "pattern": "Constraints",
        "description": "Design constraints list.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-tech-arch",
        "level": 2,
        "pattern": "Technical Architecture",
        "description": "Technical architecture section.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-tech-arch-domain",
        "level": 3,
        "pattern": "Domain Model",
        "description": "Domain model.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-tech-arch-component-model",
        "level": 3,
        "pattern": "Component Model",
        "description": "Component model and responsibilities.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-tech-arch-api-contracts",
        "level": 3,
        "pattern": "API Contracts",
        "description": "API contracts and external interfaces.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-tech-arch-internal-deps",
        "level": 3,
        "pattern": "Internal Dependencies",
        "description": "Internal dependencies.",
        "required": false,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-tech-arch-external-deps",
        "level": 3,
        "pattern": "External Dependencies",
        "description": "External dependencies.",
        "required": false,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-tech-arch-seq",
        "level": 3,
        "pattern": "Interactions & Sequences",
        "description": "Interactions and sequences.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-tech-arch-db",
        "level": 3,
        "pattern": "Database schemas & tables",
        "description": "Database schemas and tables.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-additional-context",
        "level": 2,
        "pattern": "Additional context",
        "description": "Optional additional context.",
        "required": false,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "design-traceability",
        "level": 2,
        "pattern": "Traceability",
        "description": "Optional traceability section.",
        "required": false,
        "multiple": "prohibited",
        "numbered": "allow"
      }
    ],
    "identifiers": {
      "design": {
        "kind": "design",
        "name": "Design Element (legacy prefix)",
        "description": "Legacy/compatibility design identifier (prefer more specific kinds like principle/constraint/component/seq).",
        "template": "cpt-{system}-design-{slug}",
        "required": false,
        "task": "allowed",
        "priority": "allowed",
        "to_code": false,
        "examples": ["cpt-cf-credstore-design-core-architecture"],
        "headings": ["design-h1-title"],
        "references": {}
      },
      "principle": {
        "kind": "principle",
        "name": "Design Principle",
        "description": "A guiding design rule that shapes architecture and implementation decisions.",
        "template": "cpt-{system}-principle-{slug}",
        "examples": ["cpt-cf-credstore-principle-authz-gateway"],
        "required": true,
        "task": "allowed",
        "priority": "allowed",
        "to_code": false,
        "headings": ["design-principles"],
        "references": {
          "DECOMPOSITION": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["decomposition-entry"]},
          "FEATURE": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["feature-context-purpose"]}
        }
      },
      "constraint": {
        "kind": "constraint",
        "name": "Design Constraint",
        "description": "A hard boundary (technical/organizational/regulatory) that the design must satisfy.",
        "template": "cpt-{system}-constraint-{slug}",
        "examples": ["cpt-cf-credstore-constraint-no-secret-logging"],
        "required": true,
        "task": "allowed",
        "priority": "allowed",
        "to_code": false,
        "headings": ["design-constraints"],
        "references": {
          "DECOMPOSITION": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["decomposition-entry"]},
          "FEATURE": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["feature-dod"]}
        }
      },
      "component": {
        "kind": "component",
        "name": "Component",
        "description": "A logical architecture component/module with clear responsibilities and interfaces.",
        "template": "cpt-{system}-component-{slug}",
        "examples": ["cpt-cf-credstore-component-gateway"],
        "required": true,
        "task": "allowed",
        "priority": "allowed",
        "to_code": false,
        "headings": ["design-tech-arch-component-model"],
        "references": {
          "DECOMPOSITION": {"coverage": "required", "task": "allowed", "priority": "allowed", "headings": ["decomposition-entry"]}
        }
      },
      "interface": {
        "kind": "interface",
        "name": "External Interface / Protocol",
        "description": "An interface or protocol contract described in DESIGN.",
        "template": "cpt-{system}-interface-{slug}",
        "required": false,
        "task": "allowed",
        "priority": "allowed",
        "to_code": false,
        "examples": ["cpt-cf-credstore-interface-client"],
        "headings": ["design-tech-arch-api-contracts"],
        "references": {}
      },
      "seq": {
        "kind": "seq",
        "name": "Sequence",
        "description": "A key interaction sequence between components/actors.",
        "template": "cpt-{system}-seq-{slug}",
        "examples": ["cpt-cf-credstore-seq-hierarchical-resolve"],
        "required": true,
        "task": "allowed",
        "priority": "allowed",
        "to_code": false,
        "headings": ["design-tech-arch-seq"],
        "references": {
          "DECOMPOSITION": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["decomposition-entry"]}
        }
      },
      "db": {
        "kind": "db",
        "name": "Database (legacy db-table prefix)",
        "description": "Legacy/compatibility database identifier.",
        "template": "cpt-{system}-db-{slug}",
        "required": false,
        "task": "allowed",
        "priority": "allowed",
        "to_code": false,
        "examples": [],
        "headings": ["design-tech-arch-db"],
        "references": {
          "DECOMPOSITION": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["decomposition-entry"]},
          "FEATURE": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["feature-dod"]}
        }
      },
      "dbtable": {
        "kind": "dbtable",
        "name": "Database Table",
        "description": "A concrete database schema/table entity documented in DESIGN.",
        "template": "cpt-{system}-dbtable-{slug}",
        "required": false,
        "task": "allowed",
        "priority": "allowed",
        "to_code": false,
        "examples": [],
        "headings": ["design-tech-arch-db"],
        "references": {
          "DECOMPOSITION": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["decomposition-entry"]},
          "FEATURE": {"coverage": "optional", "task": "allowed", "priority": "allowed", "headings": ["feature-dod"]}
        }
      },
      "topology": {
        "kind": "topology",
        "name": "Topology",
        "description": "Deployment/runtime topology descriptor.",
        "template": "cpt-{system}-topology-{slug}",
        "required": false,
        "task": "allowed",
        "priority": "allowed",
        "to_code": false,
        "examples": [],
        "headings": ["design-tech-arch"],
        "references": {}
      },
      "tech": {
        "kind": "tech",
        "name": "Tech Stack",
        "description": "A technology choice used in the architecture.",
        "template": "cpt-{system}-tech-{slug}",
        "required": false,
        "task": "allowed",
        "priority": "allowed",
        "to_code": false,
        "examples": [],
        "headings": ["design-arch-overview-layers"],
        "references": {}
      }
    }
  },
  "DECOMPOSITION": {
    "name": "DECOMPOSITION constraints (cf-sdlc)",
    "description": "Allowed ID kinds in DECOMPOSITION",
    "headings": [
      {
        "id": "decomposition-h1-title",
        "level": 1,
        "pattern": null,
        "description": "DECOMPOSITION document title (H1).",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "decomposition-overview",
        "level": 2,
        "pattern": "Overview",
        "description": "Overview of decomposition strategy.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "decomposition-entries",
        "level": 2,
        "pattern": "Entries",
        "description": "List of feature entries.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "decomposition-entry",
        "level": 3,
        "pattern": null,
        "description": "A single feature entry.",
        "required": true,
        "multiple": "allow",
        "numbered": "allow"
      },
      {
        "id": "decomposition-feature-deps",
        "level": 2,
        "pattern": "Feature Dependencies",
        "description": "Optional feature dependency overview.",
        "required": false,
        "multiple": "prohibited",
        "numbered": "allow"
      }
    ],
    "identifiers": {
      "status": {
        "kind": "status",
        "name": "Overall Status",
        "description": "Overall implementation status marker for the decomposition.",
        "template": "cpt-{system}-status-{slug}",
        "required": true,
        "task": "required",
        "priority": "required",
        "to_code": false,
        "examples": ["cpt-todo-app-status-overall"],
        "headings": ["decomposition-h1-title"],
        "references": {}
      },
      "feature": {
        "kind": "feature",
        "name": "Feature Entry",
        "description": "A decomposition entry representing a FEATURE spec, including dependency and coverage links.",
        "template": "cpt-{system}-feature-{slug}",
        "required": true,
        "task": "required",
        "priority": "required",
        "to_code": false,
        "examples": ["cpt-todo-app-feature-storage-foundation"],
        "headings": ["decomposition-entry"],
        "references": {
          "FEATURE": {"coverage": "required", "task": "required", "priority": "required", "headings": ["feature-h1-title"]}
        }
      }
    }
  },
  "FEATURE": {
    "name": "FEATURE constraints (cf-sdlc)",
    "description": "Allowed ID kinds in FEATURE",
    "headings": [
      {
        "id": "feature-h1-title",
        "level": 1,
        "pattern": null,
        "description": "FEATURE document title (H1).",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "feature-context",
        "level": 2,
        "pattern": "Feature Context",
        "description": "Feature context section.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "feature-context-overview",
        "level": 3,
        "pattern": "Overview",
        "description": "Feature overview.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "feature-context-purpose",
        "level": 3,
        "pattern": "Purpose",
        "description": "Feature purpose.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "feature-context-actors",
        "level": 3,
        "pattern": "Actors",
        "description": "Actors involved in the feature.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "feature-context-references",
        "level": 3,
        "pattern": "References",
        "description": "References to related artifacts.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "feature-actor-flows",
        "level": 2,
        "pattern": "Actor Flows \\(CDSL\\)",
        "description": "Actor flows section.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "feature-actor-flow",
        "level": 3,
        "pattern": null,
        "description": "A single actor flow.",
        "required": false,
        "multiple": "allow",
        "numbered": "allow"
      },
      {
        "id": "feature-processes",
        "level": 2,
        "pattern": "Processes / Business Logic \\(CDSL\\)",
        "description": "Processes / business logic section.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "feature-process",
        "level": 3,
        "pattern": null,
        "description": "A single process/algorithm.",
        "required": false,
        "multiple": "allow",
        "numbered": "allow"
      },
      {
        "id": "feature-states",
        "level": 2,
        "pattern": "States \\(CDSL\\)",
        "description": "States section.",
        "required": false,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "feature-state",
        "level": 3,
        "pattern": null,
        "description": "A single state machine.",
        "required": false,
        "multiple": "allow",
        "numbered": "allow"
      },
      {
        "id": "feature-dod",
        "level": 2,
        "pattern": "Definitions of Done",
        "description": "Definitions of done section.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      },
      {
        "id": "feature-dod-entry",
        "level": 3,
        "pattern": null,
        "description": "A single definition of done entry.",
        "required": true,
        "multiple": "allow",
        "numbered": "allow"
      },
      {
        "id": "feature-acceptance-criteria",
        "level": 2,
        "pattern": "Acceptance Criteria",
        "description": "Acceptance criteria for the feature.",
        "required": true,
        "multiple": "prohibited",
        "numbered": "allow"
      }
    ],
    "identifiers": {
      "featstatus": {
        "kind": "featstatus",
        "name": "Feature Status",
        "description": "Feature-level status/anchor marker used in FEATURE context.",
        "template": "cpt-{system}-featstatus-{feature-slug}-implemented",
        "examples": ["cpt-todo-app-featstatus-task-storage-foundation-implemented"],
        "required": true,
        "task": "required",
        "priority": "required",
        "to_code": false,
        "headings": ["feature-h1-title"],
        "references": {}
      },
      "flow": {
        "kind": "flow",
        "name": "Flow",
        "description": "An actor-facing CDSL flow describing a user/system interaction end-to-end.",
        "template": "cpt-{system}-flow-{slug}",
        "examples": ["cpt-todo-app-flow-create-task"],
        "required": false,
        "task": "required",
        "priority": "required",
        "to_code": true,
        "headings": ["feature-actor-flow"],
        "references": {}
      },
      "algo": {
        "kind": "algo",
        "name": "Algorithm",
        "description": "A reusable internal process described in CDSL (business logic not directly initiated by an actor).",
        "template": "cpt-{system}-algo-{slug}",
        "examples": ["cpt-todo-app-algo-store-task"],
        "required": false,
        "task": "required",
        "priority": "required",
        "to_code": true,
        "headings": ["feature-process"],
        "references": {}
      },
      "state": {
        "kind": "state",
        "name": "State Machine",
        "description": "A lifecycle/state machine definition for an entity or subsystem.",
        "template": "cpt-{system}-state-{slug}",
        "examples": ["cpt-todo-app-state-task-lifecycle"],
        "required": false,
        "task": "required",
        "priority": "required",
        "to_code": true,
        "headings": ["feature-state"],
        "references": {}
      },
      "dod": {
        "kind": "dod",
        "name": "Definition of Done",
        "description": "A concrete implementation task derived from flows/processes/states, with required traceability.",
        "template": "cpt-{system}-dod-{slug}",
        "examples": ["cpt-todo-app-dod-create-task"],
        "required": true,
        "task": "required",
        "priority": "required",
        "to_code": true,
        "headings": ["feature-dod-entry"],
        "references": {}
      }    
    }
  }
}
